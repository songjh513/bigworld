(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[44],{VGLV:function(e,t,a){e.exports={row:"antd-pro\\pages\\-account\\-settings\\-geographic-view-row",item:"antd-pro\\pages\\-account\\-settings\\-geographic-view-item"}},dzOB:function(e,t,a){"use strict";var s=a("0ZgE"),r=a("VY4n");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("f+r1");var i=s(a("cJq7"));a("b2/V");var n=s(a("EHnF"));a("cGjX");var l=s(a("AV1Z"));a("cGCP");var o=s(a("037l"));a("1P5+");var c,u,d,p=s(a("22Gw")),g=r(a("ZS5U")),f=a("Zp3c"),m=a("rAnT"),v=s(a("gJV7")),h=s(a("uYNw")),b=s(a("w4Dz")),y=p.default.Item,E=o.default.Option,w=e=>{var t=e.avatar;return g.default.createElement(g.Fragment,null,g.default.createElement("div",{className:v.default.avatar_title},"Avatar"),g.default.createElement("div",{className:v.default.avatar},g.default.createElement("img",{src:t,alt:"avatar"})),g.default.createElement(n.default,{fileList:[]},g.default.createElement("div",{className:v.default.button_view},g.default.createElement(l.default,{icon:"upload"},g.default.createElement(f.FormattedMessage,{id:"app.settings.basic.avatar",defaultMessage:"Change avatar"})))))},M=(e,t,a)=>{var s=t.province,r=t.city;s.key||a("Please input your province!"),r.key||a("Please input your city!"),a()},V=(e,t,a)=>{var s=t.split("-");s[0]||a("Please input your area code!"),s[1]||a("Please input your phone number!"),a()},C=(c=(0,m.connect)(e=>{var t=e.user;return{currentUser:t.currentUser}}),u=p.default.create(),c(d=u(d=class extends g.Component{constructor(){super(...arguments),this.setBaseInfo=(()=>{var e=this.props,t=e.currentUser,a=e.form;Object.keys(a.getFieldsValue()).forEach(e=>{var s={};s[e]=t[e]||null,a.setFieldsValue(s)})}),this.getViewDom=(e=>{this.view=e})}componentDidMount(){this.setBaseInfo()}getAvatarURL(){var e=this.props.currentUser;if(e.avatar)return e.avatar;var t="https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png";return t}render(){var e=this.props.form.getFieldDecorator;return g.default.createElement("div",{className:v.default.baseView,ref:this.getViewDom},g.default.createElement("div",{className:v.default.left},g.default.createElement(p.default,{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0},g.default.createElement(y,{label:(0,f.formatMessage)({id:"app.settings.basic.email"})},e("email",{rules:[{required:!0,message:(0,f.formatMessage)({id:"app.settings.basic.email-message"},{})}]})(g.default.createElement(i.default,null))),g.default.createElement(y,{label:(0,f.formatMessage)({id:"app.settings.basic.nickname"})},e("name",{rules:[{required:!0,message:(0,f.formatMessage)({id:"app.settings.basic.nickname-message"},{})}]})(g.default.createElement(i.default,null))),g.default.createElement(y,{label:(0,f.formatMessage)({id:"app.settings.basic.profile"})},e("profile",{rules:[{required:!0,message:(0,f.formatMessage)({id:"app.settings.basic.profile-message"},{})}]})(g.default.createElement(i.default.TextArea,{placeholder:(0,f.formatMessage)({id:"app.settings.basic.profile-placeholder"}),rows:4}))),g.default.createElement(y,{label:(0,f.formatMessage)({id:"app.settings.basic.country"})},e("country",{rules:[{required:!0,message:(0,f.formatMessage)({id:"app.settings.basic.country-message"},{})}]})(g.default.createElement(o.default,{style:{maxWidth:220}},g.default.createElement(E,{value:"China"},"\u4e2d\u56fd")))),g.default.createElement(y,{label:(0,f.formatMessage)({id:"app.settings.basic.geographic"})},e("geographic",{rules:[{required:!0,message:(0,f.formatMessage)({id:"app.settings.basic.geographic-message"},{})},{validator:M}]})(g.default.createElement(h.default,null))),g.default.createElement(y,{label:(0,f.formatMessage)({id:"app.settings.basic.address"})},e("address",{rules:[{required:!0,message:(0,f.formatMessage)({id:"app.settings.basic.address-message"},{})}]})(g.default.createElement(i.default,null))),g.default.createElement(y,{label:(0,f.formatMessage)({id:"app.settings.basic.phone"})},e("phone",{rules:[{required:!0,message:(0,f.formatMessage)({id:"app.settings.basic.phone-message"},{})},{validator:V}]})(g.default.createElement(b.default,null))),g.default.createElement(l.default,{type:"primary"},g.default.createElement(f.FormattedMessage,{id:"app.settings.basic.update",defaultMessage:"Update Information"})))),g.default.createElement("div",{className:v.default.right},g.default.createElement(w,{avatar:this.getAvatarURL()})))}})||d)||d),P=C;t.default=P},gJV7:function(e,t,a){e.exports={baseView:"antd-pro\\pages\\-account\\-settings\\-base-view-baseView",left:"antd-pro\\pages\\-account\\-settings\\-base-view-left",right:"antd-pro\\pages\\-account\\-settings\\-base-view-right",avatar_title:"antd-pro\\pages\\-account\\-settings\\-base-view-avatar_title",avatar:"antd-pro\\pages\\-account\\-settings\\-base-view-avatar",button_view:"antd-pro\\pages\\-account\\-settings\\-base-view-button_view"}},uYNw:function(e,t,a){"use strict";var s=a("0ZgE"),r=a("VY4n");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sodP");var i=s(a("N076"));a("cGCP");var n,l,o=s(a("037l")),c=r(a("ZS5U")),u=a("rAnT"),d=s(a("VGLV")),p=o.default.Option,g={label:"",key:""},f=(n=(0,u.connect)(e=>{var t=e.geographic,a=t.province,s=t.isLoading,r=t.city;return{province:a,city:r,isLoading:s}}),n(l=class extends c.PureComponent{constructor(){super(...arguments),this.componentDidMount=(()=>{var e=this.props.dispatch;e({type:"geographic/fetchProvince"})}),this.getCityOption=(()=>{var e=this.props.city;return this.getOption(e)}),this.getOption=(e=>{return!e||e.length<1?c.default.createElement(p,{key:0,value:0},"\u6ca1\u6709\u627e\u5230\u9009\u9879"):e.map(e=>c.default.createElement(p,{key:e.id,value:e.id},e.name))}),this.selectProvinceItem=(e=>{var t=this.props,a=t.dispatch,s=t.onChange;a({type:"geographic/fetchCity",payload:e.key}),s({province:e,city:g})}),this.selectCityItem=(e=>{var t=this.props,a=t.value,s=t.onChange;s({province:a.province,city:e})})}componentDidUpdate(e){var t=this.props,a=t.dispatch,s=t.value;!e.value&&s&&s.province&&a({type:"geographic/fetchCity",payload:s.province.key})}getProvinceOption(){var e=this.props.province;return this.getOption(e)}conversionObject(){var e=this.props.value;if(!e)return{province:g,city:g};var t=e.province,a=e.city;return{province:t||g,city:a||g}}render(){var e=this.conversionObject(),t=e.province,a=e.city,s=this.props.isLoading;return c.default.createElement(i.default,{spinning:s,wrapperClassName:d.default.row},c.default.createElement(o.default,{className:d.default.item,value:t,labelInValue:!0,showSearch:!0,onSelect:this.selectProvinceItem},this.getProvinceOption()),c.default.createElement(o.default,{className:d.default.item,value:a,labelInValue:!0,showSearch:!0,onSelect:this.selectCityItem},this.getCityOption()))}})||l),m=f;t.default=m},uy6Z:function(e,t,a){e.exports={area_code:"antd-pro\\pages\\-account\\-settings\\-phone-view-area_code",phone_number:"antd-pro\\pages\\-account\\-settings\\-phone-view-phone_number"}},w4Dz:function(e,t,a){"use strict";var s=a("VY4n"),r=a("0ZgE");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("f+r1");var i=r(a("cJq7")),n=s(a("ZS5U")),l=r(a("uy6Z"));class o extends n.PureComponent{render(){var e=this.props,t=e.value,a=e.onChange,s=["",""];return t&&(s=t.split("-")),n.default.createElement(n.Fragment,null,n.default.createElement(i.default,{className:l.default.area_code,value:s[0],onChange:e=>{a(`${e.target.value}-${s[1]}`)}}),n.default.createElement(i.default,{className:l.default.phone_number,onChange:e=>{a(`${s[0]}-${e.target.value}`)},value:s[1]}))}}var c=o;t.default=c}}]);