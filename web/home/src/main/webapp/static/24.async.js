(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{JDLn:function(e,t,a){e.exports={toolbar:"antd-pro\\components\\-footer-toolbar\\index-toolbar",left:"antd-pro\\components\\-footer-toolbar\\index-left",right:"antd-pro\\components\\-footer-toolbar\\index-right"}},WnAZ:function(e,t,a){"use strict";var l=a("VY4n"),r=a("0ZgE");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=r(a("+wDg")),n=r(a("zhVp")),s=l(a("ZS5U")),u=r(a("T9cD")),i=r(a("iczh")),o=r(a("JDLn"));class c extends s.Component{constructor(){super(...arguments),this.state={width:void 0},this.resizeFooterToolbar=(()=>{var e=document.querySelector(".ant-layout-sider");if(null!=e){var t=this.context.isMobile,a=t?null:`calc(100% - ${e.style.width})`,l=this.state.width;l!==a&&this.setState({width:a})}})}componentDidMount(){window.addEventListener("resize",this.resizeFooterToolbar),this.resizeFooterToolbar()}componentWillUnmount(){window.removeEventListener("resize",this.resizeFooterToolbar)}render(){var e=this.props,t=e.children,a=e.className,l=e.extra,r=(0,n.default)(e,["children","className","extra"]),u=this.state.width;return s.default.createElement("div",(0,d.default)({className:(0,i.default)(a,o.default.toolbar),style:{width:u}},r),s.default.createElement("div",{className:o.default.left},l),s.default.createElement("div",{className:o.default.right},t))}}t.default=c,c.contextTypes={isMobile:u.default.bool}},YgtR:function(e,t,a){"use strict";var l=a("VY4n"),r=a("0ZgE");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cGjX");var d=r(a("AV1Z"));a("hOGj");var n=r(a("ZdoC"));a("VGkR");var s=r(a("NZfy"));a("KzlZ");var u=r(a("zE4n"));a("f+r1");var i=r(a("cJq7"));a("6wDT");var o=r(a("2uUY")),c=r(a("U2oY")),f=l(a("ZS5U")),m=r(a("yKc7")),h=r(a("Zpge"));class p extends f.PureComponent{constructor(e){super(e),this.index=0,this.cacheOriginData={},this.toggleEditable=((e,t)=>{e.preventDefault();var a=this.state.data,l=a.map(e=>(0,c.default)({},e)),r=this.getRowByKey(t,l);r&&(r.editable||(this.cacheOriginData[t]=(0,c.default)({},r)),r.editable=!r.editable,this.setState({data:l}))}),this.newMember=(()=>{var e=this.state.data,t=e.map(e=>(0,c.default)({},e));t.push({key:`NEW_TEMP_ID_${this.index}`,workId:"",name:"",department:"",editable:!0,isNew:!0}),this.index+=1,this.setState({data:t})}),this.state={data:e.value,loading:!1,value:e.value}}static getDerivedStateFromProps(e,t){return(0,m.default)(e.value,t.value)?null:{data:e.value,value:e.value}}getRowByKey(e,t){var a=this.state.data;return(t||a).filter(t=>t.key===e)[0]}remove(e){var t=this.state.data,a=this.props.onChange,l=t.filter(t=>t.key!==e);this.setState({data:l}),a(l)}handleKeyPress(e,t){"Enter"===e.key&&this.saveRow(e,t)}handleFieldChange(e,t,a){var l=this.state.data,r=l.map(e=>(0,c.default)({},e)),d=this.getRowByKey(a,r);d&&(d[t]=e.target.value,this.setState({data:r}))}saveRow(e,t){e.persist(),this.setState({loading:!0}),setTimeout(()=>{if(this.clickedCancel)this.clickedCancel=!1;else{var a=this.getRowByKey(t)||{};if(!a.workId||!a.name||!a.department)return o.default.error("\u8bf7\u586b\u5199\u5b8c\u6574\u6210\u5458\u4fe1\u606f\u3002"),e.target.focus(),void this.setState({loading:!1});delete a.isNew,this.toggleEditable(e,t);var l=this.state.data,r=this.props.onChange;r(l),this.setState({loading:!1})}},500)}cancel(e,t){this.clickedCancel=!0,e.preventDefault();var a=this.state.data,l=a.map(e=>(0,c.default)({},e)),r=this.getRowByKey(t,l);this.cacheOriginData[t]&&(Object.assign(r,this.cacheOriginData[t]),delete this.cacheOriginData[t]),r.editable=!1,this.setState({data:l}),this.clickedCancel=!1}render(){var e=[{title:"\u6210\u5458\u59d3\u540d",dataIndex:"name",key:"name",width:"20%",render:(e,t)=>{return t.editable?f.default.createElement(i.default,{value:e,autoFocus:!0,onChange:e=>this.handleFieldChange(e,"name",t.key),onKeyPress:e=>this.handleKeyPress(e,t.key),placeholder:"\u6210\u5458\u59d3\u540d"}):e}},{title:"\u5de5\u53f7",dataIndex:"workId",key:"workId",width:"20%",render:(e,t)=>{return t.editable?f.default.createElement(i.default,{value:e,onChange:e=>this.handleFieldChange(e,"workId",t.key),onKeyPress:e=>this.handleKeyPress(e,t.key),placeholder:"\u5de5\u53f7"}):e}},{title:"\u6240\u5c5e\u90e8\u95e8",dataIndex:"department",key:"department",width:"40%",render:(e,t)=>{return t.editable?f.default.createElement(i.default,{value:e,onChange:e=>this.handleFieldChange(e,"department",t.key),onKeyPress:e=>this.handleKeyPress(e,t.key),placeholder:"\u6240\u5c5e\u90e8\u95e8"}):e}},{title:"\u64cd\u4f5c",key:"action",render:(e,t)=>{var a=this.state.loading;return t.editable&&a?null:t.editable?t.isNew?f.default.createElement("span",null,f.default.createElement("a",{onClick:e=>this.saveRow(e,t.key)},"\u6dfb\u52a0"),f.default.createElement(u.default,{type:"vertical"}),f.default.createElement(s.default,{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:()=>this.remove(t.key)},f.default.createElement("a",null,"\u5220\u9664"))):f.default.createElement("span",null,f.default.createElement("a",{onClick:e=>this.saveRow(e,t.key)},"\u4fdd\u5b58"),f.default.createElement(u.default,{type:"vertical"}),f.default.createElement("a",{onClick:e=>this.cancel(e,t.key)},"\u53d6\u6d88")):f.default.createElement("span",null,f.default.createElement("a",{onClick:e=>this.toggleEditable(e,t.key)},"\u7f16\u8f91"),f.default.createElement(u.default,{type:"vertical"}),f.default.createElement(s.default,{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:()=>this.remove(t.key)},f.default.createElement("a",null,"\u5220\u9664")))}}],t=this.state,a=t.loading,l=t.data;return f.default.createElement(f.Fragment,null,f.default.createElement(n.default,{loading:a,columns:e,dataSource:l,pagination:!1,rowClassName:e=>e.editable?h.default.editable:""}),f.default.createElement(d.default,{style:{width:"100%",marginTop:16,marginBottom:8},type:"dashed",onClick:this.newMember,icon:"plus"},"\u65b0\u589e\u6210\u5458"))}}var v=p;t.default=v},erBf:function(e,t,a){"use strict";var l=a("0ZgE"),r=a("VY4n");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cGjX");var d=l(a("AV1Z"));a("Nhck");var n=l(a("Gw3G"));a("PAjg");var s=l(a("k07Y"));a("Otnc");var u=l(a("PJ98"));a("yf3c");var i=l(a("Tk4G"));a("f+r1");var o=l(a("cJq7"));a("z8hR");var c=l(a("93Mn"));a("zpDe");var f=l(a("fEd7"));a("1P5+");var m=l(a("22Gw"));a("CnZS");var h=l(a("u9uv"));a("cGCP");var p,v,E,g=l(a("037l")),y=r(a("ZS5U")),w=a("rAnT"),b=l(a("WnAZ")),k=l(a("zHco")),C=l(a("YgtR")),x=l(a("Zpge")),I=g.default.Option,N=h.default.RangePicker,P={name:"\u4ed3\u5e93\u540d",url:"\u4ed3\u5e93\u57df\u540d",owner:"\u4ed3\u5e93\u7ba1\u7406\u5458",approver:"\u5ba1\u6279\u4eba",dateRange:"\u751f\u6548\u65e5\u671f",type:"\u4ed3\u5e93\u7c7b\u578b",name2:"\u4efb\u52a1\u540d",url2:"\u4efb\u52a1\u63cf\u8ff0",owner2:"\u6267\u884c\u4eba",approver2:"\u8d23\u4efb\u4eba",dateRange2:"\u751f\u6548\u65e5\u671f",type2:"\u4efb\u52a1\u7c7b\u578b"},F=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],R=(p=(0,w.connect)(e=>{var t=e.loading;return{submitting:t.effects["form/submitAdvancedForm"]}}),v=m.default.create(),p(E=v(E=class extends y.PureComponent{constructor(){super(...arguments),this.state={width:"100%"},this.getErrorInfo=(()=>{var e=this.props.form.getFieldsError,t=e(),a=Object.keys(t).filter(e=>t[e]).length;if(!t||0===a)return null;var l=e=>{var t=document.querySelector(`label[for="${e}"]`);t&&t.scrollIntoView(!0)},r=Object.keys(t).map(e=>{return t[e]?y.default.createElement("li",{key:e,className:x.default.errorListItem,onClick:()=>l(e)},y.default.createElement(f.default,{type:"cross-circle-o",className:x.default.errorIcon}),y.default.createElement("div",{className:x.default.errorMessage},t[e][0]),y.default.createElement("div",{className:x.default.errorField},P[e])):null});return y.default.createElement("span",{className:x.default.errorIcon},y.default.createElement(c.default,{title:"\u8868\u5355\u6821\u9a8c\u4fe1\u606f",content:r,overlayClassName:x.default.errorPopover,trigger:"click",getPopupContainer:e=>e.parentNode},y.default.createElement(f.default,{type:"exclamation-circle"})),a)}),this.resizeFooterToolbar=(()=>{requestAnimationFrame(()=>{var e=document.querySelectorAll(".ant-layout-sider")[0];if(e){var t=`calc(100% - ${e.style.width})`,a=this.state.width;a!==t&&this.setState({width:t})}})}),this.validate=(()=>{var e=this.props,t=e.form.validateFieldsAndScroll,a=e.dispatch;t((e,t)=>{e||a({type:"form/submitAdvancedForm",payload:t})})})}componentDidMount(){window.addEventListener("resize",this.resizeFooterToolbar,{passive:!0})}componentWillUnmount(){window.removeEventListener("resize",this.resizeFooterToolbar)}render(){var e=this.props,t=e.form.getFieldDecorator,a=e.submitting,l=this.state.width;return y.default.createElement(k.default,{title:"\u9ad8\u7ea7\u8868\u5355",content:"\u9ad8\u7ea7\u8868\u5355\u5e38\u89c1\u4e8e\u4e00\u6b21\u6027\u8f93\u5165\u548c\u63d0\u4ea4\u5927\u6279\u91cf\u6570\u636e\u7684\u573a\u666f\u3002",wrapperClassName:x.default.advancedForm},y.default.createElement(s.default,{title:"\u4ed3\u5e93\u7ba1\u7406",className:x.default.card,bordered:!1},y.default.createElement(m.default,{layout:"vertical",hideRequiredMark:!0},y.default.createElement(u.default,{gutter:16},y.default.createElement(i.default,{lg:6,md:12,sm:24},y.default.createElement(m.default.Item,{label:P.name},t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ed3\u5e93\u540d\u79f0"}]})(y.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165\u4ed3\u5e93\u540d\u79f0"})))),y.default.createElement(i.default,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},y.default.createElement(m.default.Item,{label:P.url},t("url",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(y.default.createElement(o.default,{style:{width:"100%"},addonBefore:"http://",addonAfter:".com",placeholder:"\u8bf7\u8f93\u5165"})))),y.default.createElement(i.default,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},y.default.createElement(m.default.Item,{label:P.owner},t("owner",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"}]})(y.default.createElement(g.default,{placeholder:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"},y.default.createElement(I,{value:"xiao"},"\u4ed8\u6653\u6653"),y.default.createElement(I,{value:"mao"},"\u5468\u6bdb\u6bdb")))))),y.default.createElement(u.default,{gutter:16},y.default.createElement(i.default,{lg:6,md:12,sm:24},y.default.createElement(m.default.Item,{label:P.approver},t("approver",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"}]})(y.default.createElement(g.default,{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"},y.default.createElement(I,{value:"xiao"},"\u4ed8\u6653\u6653"),y.default.createElement(I,{value:"mao"},"\u5468\u6bdb\u6bdb"))))),y.default.createElement(i.default,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},y.default.createElement(m.default.Item,{label:P.dateRange},t("dateRange",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u751f\u6548\u65e5\u671f"}]})(y.default.createElement(N,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],style:{width:"100%"}})))),y.default.createElement(i.default,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},y.default.createElement(m.default.Item,{label:P.type},t("type",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"}]})(y.default.createElement(g.default,{placeholder:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"},y.default.createElement(I,{value:"private"},"\u79c1\u5bc6"),y.default.createElement(I,{value:"public"},"\u516c\u5f00")))))))),y.default.createElement(s.default,{title:"\u4efb\u52a1\u7ba1\u7406",className:x.default.card,bordered:!1},y.default.createElement(m.default,{layout:"vertical",hideRequiredMark:!0},y.default.createElement(u.default,{gutter:16},y.default.createElement(i.default,{lg:6,md:12,sm:24},y.default.createElement(m.default.Item,{label:P.name2},t("name2",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]})(y.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165"})))),y.default.createElement(i.default,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},y.default.createElement(m.default.Item,{label:P.url2},t("url2",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(y.default.createElement(o.default,{placeholder:"\u8bf7\u8f93\u5165"})))),y.default.createElement(i.default,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},y.default.createElement(m.default.Item,{label:P.owner2},t("owner2",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"}]})(y.default.createElement(g.default,{placeholder:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"},y.default.createElement(I,{value:"xiao"},"\u4ed8\u6653\u6653"),y.default.createElement(I,{value:"mao"},"\u5468\u6bdb\u6bdb")))))),y.default.createElement(u.default,{gutter:16},y.default.createElement(i.default,{lg:6,md:12,sm:24},y.default.createElement(m.default.Item,{label:P.approver2},t("approver2",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"}]})(y.default.createElement(g.default,{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"},y.default.createElement(I,{value:"xiao"},"\u4ed8\u6653\u6653"),y.default.createElement(I,{value:"mao"},"\u5468\u6bdb\u6bdb"))))),y.default.createElement(i.default,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},y.default.createElement(m.default.Item,{label:P.dateRange2},t("dateRange2",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]})(y.default.createElement(n.default,{placeholder:"\u63d0\u9192\u65f6\u95f4",style:{width:"100%"},getPopupContainer:e=>e.parentNode})))),y.default.createElement(i.default,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},y.default.createElement(m.default.Item,{label:P.type2},t("type2",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"}]})(y.default.createElement(g.default,{placeholder:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"},y.default.createElement(I,{value:"private"},"\u79c1\u5bc6"),y.default.createElement(I,{value:"public"},"\u516c\u5f00")))))))),y.default.createElement(s.default,{title:"\u6210\u5458\u7ba1\u7406",bordered:!1},t("members",{initialValue:F})(y.default.createElement(C.default,null))),y.default.createElement(b.default,{style:{width:l}},this.getErrorInfo(),y.default.createElement(d.default,{type:"primary",onClick:this.validate,loading:a},"\u63d0\u4ea4")))}})||E)||E),S=R;t.default=S}}]);