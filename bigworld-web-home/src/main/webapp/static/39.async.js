(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[39],{YiZ1:function(e,t,a){e.exports={avatarHolder:"antd-pro\\pages\\-account\\-center\\-center-avatarHolder",name:"antd-pro\\pages\\-account\\-center\\-center-name",detail:"antd-pro\\pages\\-account\\-center\\-center-detail",title:"antd-pro\\pages\\-account\\-center\\-center-title",group:"antd-pro\\pages\\-account\\-center\\-center-group",address:"antd-pro\\pages\\-account\\-center\\-center-address",tagsTitle:"antd-pro\\pages\\-account\\-center\\-center-tagsTitle",teamTitle:"antd-pro\\pages\\-account\\-center\\-center-teamTitle",tags:"antd-pro\\pages\\-account\\-center\\-center-tags",team:"antd-pro\\pages\\-account\\-center\\-center-team",tabsCard:"antd-pro\\pages\\-account\\-center\\-center-tabsCard"}},zMb4:function(e,t,a){"use strict";var l=a("0ZgE"),n=a("VY4n");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("PAjg");var r=l(a("k07Y"));a("sodP");var s=l(a("N076"));a("Otnc");var c=l(a("PJ98"));a("yf3c");var u=l(a("Tk4G"));a("2EyC");var d=l(a("rRQq"));a("zpDe");var i=l(a("fEd7"));a("f+r1");var o=l(a("cJq7"));a("n7FU");var p=l(a("ZXIB"));a("KzlZ");var f,m,g=l(a("zE4n")),h=n(a("ZS5U")),E=a("rAnT"),v=l(a("43Kr")),b=l(a("bfKc")),y=l(a("v99g")),k=l(a("YiZ1")),C=(f=(0,E.connect)(e=>{var t=e.loading,a=e.user,l=e.project;return{listLoading:t.effects["list/fetch"],currentUser:a.currentUser,currentUserLoading:t.effects["user/fetchCurrent"],project:l,projectLoading:t.effects["project/fetchNotice"]}}),f(m=class extends h.PureComponent{constructor(){super(...arguments),this.state={newTags:[],inputVisible:!1,inputValue:""},this.onTabChange=(e=>{var t=this.props.match;switch(e){case"articles":b.default.push(`${t.url}/articles`);break;case"applications":b.default.push(`${t.url}/applications`);break;case"projects":b.default.push(`${t.url}/projects`);break;default:break}}),this.showInput=(()=>{this.setState({inputVisible:!0},()=>this.input.focus())}),this.saveInputRef=(e=>{this.input=e}),this.handleInputChange=(e=>{this.setState({inputValue:e.target.value})}),this.handleInputConfirm=(()=>{var e=this.state,t=e.inputValue,a=e.newTags;t&&0===a.filter(e=>e.label===t).length&&(a=[...a,{key:`new-${a.length}`,label:t}]),this.setState({newTags:a,inputVisible:!1,inputValue:""})})}componentDidMount(){var e=this.props.dispatch;e({type:"user/fetchCurrent"}),e({type:"list/fetch",payload:{count:8}}),e({type:"project/fetchNotice"})}render(){var e=this.state,t=e.newTags,a=e.inputVisible,l=e.inputValue,n=this.props,f=n.listLoading,m=n.currentUser,E=n.currentUserLoading,b=n.project.notice,C=n.projectLoading,T=n.match,w=n.location,N=n.children,j=[{key:"articles",tab:h.default.createElement("span",null,"\u6587\u7ae0 ",h.default.createElement("span",{style:{fontSize:14}},"(8)"))},{key:"applications",tab:h.default.createElement("span",null,"\u5e94\u7528 ",h.default.createElement("span",{style:{fontSize:14}},"(8)"))},{key:"projects",tab:h.default.createElement("span",null,"\u9879\u76ee ",h.default.createElement("span",{style:{fontSize:14}},"(8)"))}];return h.default.createElement(y.default,{className:k.default.userCenter},h.default.createElement(c.default,{gutter:24},h.default.createElement(u.default,{lg:7,md:24},h.default.createElement(r.default,{bordered:!1,style:{marginBottom:24},loading:E},m&&Object.keys(m).length?h.default.createElement("div",null,h.default.createElement("div",{className:k.default.avatarHolder},h.default.createElement("img",{alt:"",src:m.avatar}),h.default.createElement("div",{className:k.default.name},m.name),h.default.createElement("div",null,m.signature)),h.default.createElement("div",{className:k.default.detail},h.default.createElement("p",null,h.default.createElement("i",{className:k.default.title}),m.title),h.default.createElement("p",null,h.default.createElement("i",{className:k.default.group}),m.group),h.default.createElement("p",null,h.default.createElement("i",{className:k.default.address}),m.geographic.province.label,m.geographic.city.label)),h.default.createElement(g.default,{dashed:!0}),h.default.createElement("div",{className:k.default.tags},h.default.createElement("div",{className:k.default.tagsTitle},"\u6807\u7b7e"),m.tags.concat(t).map(e=>h.default.createElement(p.default,{key:e.key},e.label)),a&&h.default.createElement(o.default,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:l,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!a&&h.default.createElement(p.default,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},h.default.createElement(i.default,{type:"plus"}))),h.default.createElement(g.default,{style:{marginTop:16},dashed:!0}),h.default.createElement("div",{className:k.default.team},h.default.createElement("div",{className:k.default.teamTitle},"\u56e2\u961f"),h.default.createElement(s.default,{spinning:C},h.default.createElement(c.default,{gutter:36},b.map(e=>h.default.createElement(u.default,{key:e.id,lg:24,xl:12},h.default.createElement(v.default,{to:e.href},h.default.createElement(d.default,{size:"small",src:e.logo}),e.member))))))):"loading...")),h.default.createElement(u.default,{lg:17,md:24},h.default.createElement(r.default,{className:k.default.tabsCard,bordered:!1,tabList:j,activeTabKey:w.pathname.replace(`${T.path}/`,""),onTabChange:this.onTabChange,loading:f},N))))}})||m),T=C;t.default=T}}]);