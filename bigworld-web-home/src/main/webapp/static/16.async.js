(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"7Zm1":function(e,a,t){e.exports={trendItem:"antd-pro\\components\\-trend\\index-trendItem",down:"antd-pro\\components\\-trend\\index-down",up:"antd-pro\\components\\-trend\\index-up",trendItemGrey:"antd-pro\\components\\-trend\\index-trendItemGrey",reverseColor:"antd-pro\\components\\-trend\\index-reverseColor"}},"Umy/":function(e,a,t){"use strict";var l=t("0ZgE");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=l(t("ZS5U")),d=t("KTCi");class n extends s.default.PureComponent{constructor(){super(...arguments),this.rendertoHtml=(()=>{var e=this.props.children;this.main&&(this.main.innerHTML=(0,d.yuan)(e))})}componentDidMount(){this.rendertoHtml()}componentDidUpdate(){this.rendertoHtml()}render(){return s.default.createElement("span",{ref:e=>{this.main=e}})}}a.default=n},YR7N:function(e,a,t){"use strict";var l=t("0ZgE");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=l(t("+wDg"));t("zpDe");var d=l(t("fEd7")),n=l(t("zhVp")),r=l(t("ZS5U")),i=l(t("iczh")),u=l(t("7Zm1")),f=e=>{var a=e.colorful,t=void 0===a||a,l=e.reverseColor,f=void 0!==l&&l,o=e.flag,c=e.children,m=e.className,p=(0,n.default)(e,["colorful","reverseColor","flag","children","className"]),g=(0,i.default)(u.default.trendItem,{[u.default.trendItemGrey]:!t,[u.default.reverseColor]:f&&t},m);return r.default.createElement("div",(0,s.default)({},p,{className:g,title:"string"===typeof c?c:""}),r.default.createElement("span",{className:u.default.value},c),o&&r.default.createElement("span",{className:u.default[o]},r.default.createElement(d.default,{type:`caret-${o}`})))},o=f;a.default=o},ZOrW:function(e,a,t){"use strict";var l=t("0ZgE"),s=t("VY4n");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("iEMl");var d=l(t("Tra/"));t("hOGj");var n=l(t("ZdoC"));t("PAjg");var r=l(t("k07Y"));t("68E+");var i=l(t("AY0S"));t("Otnc");var u=l(t("PJ98"));t("yf3c");var f=l(t("Tk4G"));t("Fr//");var o=l(t("yfTU"));t("zpDe");var c=l(t("fEd7"));t("pJ4K");var m=l(t("Uuxh"));t("CnZS");var p=l(t("u9uv"));t("w1ep");for(var g,E,h=l(t("sKFs")),y=s(t("ZS5U")),M=t("rAnT"),v=t("Zp3c"),k=t("KTCi"),b=l(t("YR7N")),T=l(t("LOQS")),x=l(t("BS6i")),C=l(t("v99g")),F=l(t("Umy/")),N=t("+n12"),D=l(t("lVjH")),S=h.default.TabPane,w=p.default.RangePicker,R=[],I=0;I<7;I+=1)R.push({title:`\u5de5\u4e13\u8def ${I} \u53f7\u5e97`,total:323234});var P=(g=(0,M.connect)(e=>{var a=e.chart,t=e.loading;return{chart:a,loading:t.effects["chart/fetch"]}}),g(E=class extends y.Component{constructor(e){super(e),this.state={salesType:"all",currentTabKey:"",rangePickerValue:(0,N.getTimeDistance)("year"),loading:!0},this.handleChangeSalesType=(e=>{this.setState({salesType:e.target.value})}),this.handleTabChange=(e=>{this.setState({currentTabKey:e})}),this.handleRangePickerChange=(e=>{var a=this.props.dispatch;this.setState({rangePickerValue:e}),a({type:"chart/fetchSalesData"})}),this.selectDate=(e=>{var a=this.props.dispatch;this.setState({rangePickerValue:(0,N.getTimeDistance)(e)}),a({type:"chart/fetchSalesData"})}),this.rankingListData=[];for(var a=0;a<7;a+=1)this.rankingListData.push({title:(0,v.formatMessage)({id:"app.analysis.test"},{no:a}),total:323234})}componentDidMount(){var e=this.props.dispatch;this.reqRef=requestAnimationFrame(()=>{e({type:"chart/fetch"}),this.timeoutId=setTimeout(()=>{this.setState({loading:!1})},600)})}componentWillUnmount(){var e=this.props.dispatch;e({type:"chart/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}isActive(e){var a=this.state.rangePickerValue,t=(0,N.getTimeDistance)(e);return a[0]&&a[1]&&a[0].isSame(t[0],"day")&&a[1].isSame(t[1],"day")?D.default.currentDate:""}render(){var e,a=this.state,t=a.rangePickerValue,l=a.salesType,s=a.loading,p=a.currentTabKey,g=this.props,E=g.chart,M=g.loading,N=E.visitData,R=E.visitData2,I=E.salesData,P=E.searchData,B=E.offlineData,A=E.offlineChartData,L=E.salesTypeData,V=E.salesTypeDataOnline,O=E.salesTypeDataOffline,W=s||M;e="all"===l?L:"online"===l?V:O;var Z=y.default.createElement(m.default,null,y.default.createElement(m.default.Item,null,"\u64cd\u4f5c\u4e00"),y.default.createElement(m.default.Item,null,"\u64cd\u4f5c\u4e8c")),H=y.default.createElement("span",{className:D.default.iconGroup},y.default.createElement(o.default,{overlay:Z,placement:"bottomRight"},y.default.createElement(c.default,{type:"ellipsis"}))),K=y.default.createElement("div",{className:D.default.salesExtraWrap},y.default.createElement("div",{className:D.default.salesExtra},y.default.createElement("a",{className:this.isActive("today"),onClick:()=>this.selectDate("today")},y.default.createElement(v.FormattedMessage,{id:"app.analysis.all-day",defaultMessage:"All Day"})),y.default.createElement("a",{className:this.isActive("week"),onClick:()=>this.selectDate("week")},y.default.createElement(v.FormattedMessage,{id:"app.analysis.all-week",defaultMessage:"All Week"})),y.default.createElement("a",{className:this.isActive("month"),onClick:()=>this.selectDate("month")},y.default.createElement(v.FormattedMessage,{id:"app.analysis.all-month",defaultMessage:"All Month"})),y.default.createElement("a",{className:this.isActive("year"),onClick:()=>this.selectDate("year")},y.default.createElement(v.FormattedMessage,{id:"app.analysis.all-year",defaultMessage:"All Year"}))),y.default.createElement(w,{value:t,onChange:this.handleRangePickerChange,style:{width:256}})),U=[{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.table.rank",defaultMessage:"Rank"}),dataIndex:"index",key:"index"},{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.table.search-keyword",defaultMessage:"Search keyword"}),dataIndex:"keyword",key:"keyword",render:e=>y.default.createElement("a",{href:"/"},e)},{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.table.users",defaultMessage:"Users"}),dataIndex:"count",key:"count",sorter:(e,a)=>e.count-a.count,className:D.default.alignRight},{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.table.weekly-range",defaultMessage:"Weekly Range"}),dataIndex:"range",key:"range",sorter:(e,a)=>e.range-a.range,render:(e,a)=>y.default.createElement(b.default,{flag:1===a.status?"down":"up"},y.default.createElement("span",{style:{marginRight:4}},e,"%")),align:"right"}],G=p||B[0]&&B[0].name,j=e=>{var a=e.data,t=e.currentTabKey;return y.default.createElement(u.default,{gutter:8,style:{width:138,margin:"8px 0"}},y.default.createElement(f.default,{span:12},y.default.createElement(T.default,{title:a.name,subTitle:y.default.createElement(v.FormattedMessage,{id:"app.analysis.conversion-rate",defaultMessage:"Conversion Rate"}),gap:2,total:`${100*a.cvr}%`,theme:t!==a.name&&"light"})),y.default.createElement(f.default,{span:12,style:{paddingTop:36}},y.default.createElement(k.Pie,{animate:!1,color:t!==a.name&&"#BDE4FF",inner:.55,tooltip:!1,margin:[0,0,0,0],percent:100*a.cvr,height:64})))},z={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}};return y.default.createElement(C.default,null,y.default.createElement(u.default,{gutter:24},y.default.createElement(f.default,z,y.default.createElement(k.ChartCard,{bordered:!1,title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.total-sales",defaultMessage:"Total Sales"}),action:y.default.createElement(i.default,{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.introduce",defaultMessage:"introduce"})},y.default.createElement(c.default,{type:"info-circle-o"})),loading:W,total:()=>y.default.createElement(F.default,null,"126560"),footer:y.default.createElement(k.Field,{label:y.default.createElement(v.FormattedMessage,{id:"app.analysis.day-sales",defaultMessage:"Day Sales"}),value:`\uffe5${(0,x.default)(12423).format("0,0")}`}),contentHeight:46},y.default.createElement(b.default,{flag:"up",style:{marginRight:16}},y.default.createElement(v.FormattedMessage,{id:"app.analysis.week",defaultMessage:"Weekly Changes"}),y.default.createElement("span",{className:D.default.trendText},"12%")),y.default.createElement(b.default,{flag:"down"},y.default.createElement(v.FormattedMessage,{id:"app.analysis.day",defaultMessage:"Daily Changes"}),y.default.createElement("span",{className:D.default.trendText},"11%")))),y.default.createElement(f.default,z,y.default.createElement(k.ChartCard,{bordered:!1,loading:W,title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.visits",defaultMessage:"visits"}),action:y.default.createElement(i.default,{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.introduce",defaultMessage:"introduce"})},y.default.createElement(c.default,{type:"info-circle-o"})),total:(0,x.default)(8846).format("0,0"),footer:y.default.createElement(k.Field,{label:y.default.createElement(v.FormattedMessage,{id:"app.analysis.day-visits",defaultMessage:"Day Visits"}),value:(0,x.default)(1234).format("0,0")}),contentHeight:46},y.default.createElement(k.MiniArea,{color:"#975FE4",data:N}))),y.default.createElement(f.default,z,y.default.createElement(k.ChartCard,{bordered:!1,loading:W,title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.payments",defaultMessage:"Payments"}),action:y.default.createElement(i.default,{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.introduce",defaultMessage:"Introduce"})},y.default.createElement(c.default,{type:"info-circle-o"})),total:(0,x.default)(6560).format("0,0"),footer:y.default.createElement(k.Field,{label:y.default.createElement(v.FormattedMessage,{id:"app.analysis.conversion-rate",defaultMessage:"Conversion Rate"}),value:"60%"}),contentHeight:46},y.default.createElement(k.MiniBar,{data:N}))),y.default.createElement(f.default,z,y.default.createElement(k.ChartCard,{loading:W,bordered:!1,title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.operational-effect",defaultMessage:"Operational Effect"}),action:y.default.createElement(i.default,{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.introduce",defaultMessage:"introduce"})},y.default.createElement(c.default,{type:"info-circle-o"})),total:"78%",footer:y.default.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden"}},y.default.createElement(b.default,{flag:"up",style:{marginRight:16}},y.default.createElement(v.FormattedMessage,{id:"app.analysis.week",defaultMessage:"Weekly changes"}),y.default.createElement("span",{className:D.default.trendText},"12%")),y.default.createElement(b.default,{flag:"down"},y.default.createElement(v.FormattedMessage,{id:"app.analysis.day",defaultMessage:"Weekly changes"}),y.default.createElement("span",{className:D.default.trendText},"11%"))),contentHeight:46},y.default.createElement(k.MiniProgress,{percent:78,strokeWidth:8,target:80,color:"#13C2C2"})))),y.default.createElement(r.default,{loading:W,bordered:!1,bodyStyle:{padding:0}},y.default.createElement("div",{className:D.default.salesCard},y.default.createElement(h.default,{tabBarExtraContent:K,size:"large",tabBarStyle:{marginBottom:24}},y.default.createElement(S,{tab:y.default.createElement(v.FormattedMessage,{id:"app.analysis.sales",defaultMessage:"Sales"}),key:"sales"},y.default.createElement(u.default,null,y.default.createElement(f.default,{xl:16,lg:12,md:12,sm:24,xs:24},y.default.createElement("div",{className:D.default.salesBar},y.default.createElement(k.Bar,{height:295,title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.sales-trend",defaultMessage:"Sales Trend"}),data:I}))),y.default.createElement(f.default,{xl:8,lg:12,md:12,sm:24,xs:24},y.default.createElement("div",{className:D.default.salesRank},y.default.createElement("h4",{className:D.default.rankingTitle},y.default.createElement(v.FormattedMessage,{id:"app.analysis.sales-ranking",defaultMessage:"Sales Ranking"})),y.default.createElement("ul",{className:D.default.rankingList},this.rankingListData.map((e,a)=>y.default.createElement("li",{key:e.title},y.default.createElement("span",{className:`${D.default.rankingItemNumber} ${a<3?D.default.active:""}`},a+1),y.default.createElement("span",{className:D.default.rankingItemTitle,title:e.title},e.title),y.default.createElement("span",{className:D.default.rankingItemValue},(0,x.default)(e.total).format("0,0"))))))))),y.default.createElement(S,{tab:y.default.createElement(v.FormattedMessage,{id:"app.analysis.visits",defaultMessage:"Visits"}),key:"views"},y.default.createElement(u.default,null,y.default.createElement(f.default,{xl:16,lg:12,md:12,sm:24,xs:24},y.default.createElement("div",{className:D.default.salesBar},y.default.createElement(k.Bar,{height:292,title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.visits-trend",defaultMessage:"Visits Trend"}),data:I}))),y.default.createElement(f.default,{xl:8,lg:12,md:12,sm:24,xs:24},y.default.createElement("div",{className:D.default.salesRank},y.default.createElement("h4",{className:D.default.rankingTitle},y.default.createElement(v.FormattedMessage,{id:"app.analysis.visits-ranking",defaultMessage:"Visits Ranking"})),y.default.createElement("ul",{className:D.default.rankingList},this.rankingListData.map((e,a)=>y.default.createElement("li",{key:e.title},y.default.createElement("span",{className:a<3?D.default.active:""},a+1),y.default.createElement("span",null,e.title),y.default.createElement("span",null,(0,x.default)(e.total).format("0,0")))))))))))),y.default.createElement(u.default,{gutter:24},y.default.createElement(f.default,{xl:12,lg:24,md:24,sm:24,xs:24},y.default.createElement(r.default,{loading:W,bordered:!1,title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.online-top-search",defaultMessage:"Online Top Search"}),extra:H,style:{marginTop:24}},y.default.createElement(u.default,{gutter:68},y.default.createElement(f.default,{sm:12,xs:24,style:{marginBottom:24}},y.default.createElement(T.default,{subTitle:y.default.createElement("span",null,y.default.createElement(v.FormattedMessage,{id:"app.analysis.search-users",defaultMessage:"search users"}),y.default.createElement(i.default,{title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.introduce",defaultMessage:"introduce"})},y.default.createElement(c.default,{style:{marginLeft:8},type:"info-circle-o"}))),gap:8,total:(0,x.default)(12321).format("0,0"),status:"up",subTotal:17.1}),y.default.createElement(k.MiniArea,{line:!0,height:45,data:R})),y.default.createElement(f.default,{sm:12,xs:24,style:{marginBottom:24}},y.default.createElement(T.default,{subTitle:y.default.createElement(v.FormattedMessage,{id:"app.analysis.per-capita-search",defaultMessage:"Per Capita Search"}),total:2.7,status:"down",subTotal:26.2,gap:8}),y.default.createElement(k.MiniArea,{line:!0,height:45,data:R}))),y.default.createElement(n.default,{rowKey:e=>e.index,size:"small",columns:U,dataSource:P,pagination:{style:{marginBottom:0},pageSize:5}}))),y.default.createElement(f.default,{xl:12,lg:24,md:24,sm:24,xs:24},y.default.createElement(r.default,{loading:W,className:D.default.salesCard,bordered:!1,title:y.default.createElement(v.FormattedMessage,{id:"app.analysis.the-proportion-of-sales",defaultMessage:"The Proportion of Sales"}),bodyStyle:{padding:24},extra:y.default.createElement("div",{className:D.default.salesCardExtra},H,y.default.createElement("div",{className:D.default.salesTypeRadio},y.default.createElement(d.default.Group,{value:l,onChange:this.handleChangeSalesType},y.default.createElement(d.default.Button,{value:"all"},y.default.createElement(v.FormattedMessage,{id:"app.analysis.channel.all",defaultMessage:"ALL"})),y.default.createElement(d.default.Button,{value:"online"},y.default.createElement(v.FormattedMessage,{id:"app.analysis.channel.online",defaultMessage:"Online"})),y.default.createElement(d.default.Button,{value:"stores"},y.default.createElement(v.FormattedMessage,{id:"app.analysis.channel.stores",defaultMessage:"Stores"}))))),style:{marginTop:24,minHeight:509}},y.default.createElement("h4",{style:{marginTop:8,marginBottom:32}},y.default.createElement(v.FormattedMessage,{id:"app.analysis.sales",defaultMessage:"Sales"})),y.default.createElement(k.Pie,{hasLegend:!0,subTitle:y.default.createElement(v.FormattedMessage,{id:"app.analysis.sales",defaultMessage:"Sales"}),total:()=>y.default.createElement(F.default,null,e.reduce((e,a)=>a.y+e,0)),data:e,valueFormat:e=>y.default.createElement(F.default,null,e),height:248,lineWidth:4})))),y.default.createElement(r.default,{loading:W,className:D.default.offlineCard,bordered:!1,bodyStyle:{padding:"0 0 32px 0"},style:{marginTop:32}},y.default.createElement(h.default,{activeKey:G,onChange:this.handleTabChange},B.map(e=>y.default.createElement(S,{tab:y.default.createElement(j,{data:e,currentTabKey:G}),key:e.name},y.default.createElement("div",{style:{padding:"0 24px"}},y.default.createElement(k.TimelineChart,{height:400,data:A,titleMap:{y1:(0,v.formatMessage)({id:"app.analysis.traffic"}),y2:(0,v.formatMessage)({id:"app.analysis.payments"})}})))))))}})||E),B=P;a.default=B},lVjH:function(e,a,t){e.exports={iconGroup:"antd-pro\\pages\\-dashboard\\-analysis-iconGroup",rankingList:"antd-pro\\pages\\-dashboard\\-analysis-rankingList",rankingItemNumber:"antd-pro\\pages\\-dashboard\\-analysis-rankingItemNumber",active:"antd-pro\\pages\\-dashboard\\-analysis-active",rankingItemTitle:"antd-pro\\pages\\-dashboard\\-analysis-rankingItemTitle",salesExtra:"antd-pro\\pages\\-dashboard\\-analysis-salesExtra",currentDate:"antd-pro\\pages\\-dashboard\\-analysis-currentDate",salesCard:"antd-pro\\pages\\-dashboard\\-analysis-salesCard",salesBar:"antd-pro\\pages\\-dashboard\\-analysis-salesBar",salesRank:"antd-pro\\pages\\-dashboard\\-analysis-salesRank",salesCardExtra:"antd-pro\\pages\\-dashboard\\-analysis-salesCardExtra",salesTypeRadio:"antd-pro\\pages\\-dashboard\\-analysis-salesTypeRadio",offlineCard:"antd-pro\\pages\\-dashboard\\-analysis-offlineCard",trendText:"antd-pro\\pages\\-dashboard\\-analysis-trendText",rankingTitle:"antd-pro\\pages\\-dashboard\\-analysis-rankingTitle",salesExtraWrap:"antd-pro\\pages\\-dashboard\\-analysis-salesExtraWrap"}}}]);